<html>
<head>
    <title>form validation</title>
    <script type="text/javascript">
        var divs = new Array();
        divs[0] = "errfirst";
        divs[1] = "errlast";
        divs[2] = "erremail";
        divs[3] = "erruid";
        divs[4] = "errpassword";
        divs[5] = "errconfirm";
        function validate()
        {
            var imputs = new Array();
            input[0] = document.getElementById('first').value;
            input[1] = document.getElementById('last').value;
            input[2] = document.getElementById('email').value;
            input[3] = document.getElementById('uid').value;
            input[4] = document.getElementById('password').value;
            input[5] = document.getElementById('confirm').value;
            var errors = new Array();
            errors[0] ="<span style='color:red'>please enter your first name</span>";
            errors[1] ="<span style='color:red'>please enter your second name</span>";
            errors[2] ="<span style='color:red'>please enter a valid email</span>";
            errors[3] ="<span style='color:red'>please enter a valid id</span>";
            errors[4] ="<span style='color:red'>please enter a valid password</span>";
            errors[5] ="<span style='color:red'>please confirm</span>";
            for (i in inputs)
            {
                var errMessage = errors[i];
                var div =divs[i];
                if (inputs[i] == "")
                    document.getElementById(div).innerHTML = errMessage;
                else if (i==2)
                {
                    var atpos=inputs[i].indexOf("@");
                    var dotpos=inputs[i].indexOf(".");
                    if (atpos<1 ||dotpos<atpos+2||dotpos+2>=inputs[i].length)
                        document.getElementById('erremail').innerHTML = "<span style='color:red'>enter a valid email addres</span>";
                    else
                        document.getElementById(div).innerHTML = "ok";
                }
                else if (i==5)
                {
                    var first = document.getElementById('password').value;
                    var second = document.getElementById('confim').value;
                    if (second!=first)
                        document.getElementById('errconfirm').innerHTML ="<span style='color:red'>your password does not match</span>";
                    else
                        document.getElementById(div).innerHTML = "ok";
                }
                else
                    document.getElementById(div).innerHTML = "ok";
            }

        }
        function finalvalidate()
        {
            var count = 0;
            for (i=0;i<6;i++)
            {
                var div =divs[i];
                if (document.getElementById(div).innerHTML == "ok")
                    count = count+1;
            }
            if (count == 6)
                document.getElementById("errfinal").innerHTML = "all the data you entered is correct";
        }
    </script>

</head>
<body>
<table id="table">
    <tr>
        <tb>first name:</tb>
        <td><input type="text" id="first" onkeyup="validate();"/> </td>
        <td><div id="errfirst"></div> </td>
    </tr>
    <tr>
        <td>last name:</td>
        <td><input type="text" id="last" onkeyup="validate();"/> </td>
        <td><div id="errlast"></div> </td>
    </tr>
    <tr>
        <td>email</td>
        <td><input type="text" id="email" onkeyup="validate();"/> </td>
        <td><div id="erremail"></div></td>
    </tr>
    <tr>
        <td>user id</td>
        <td><input type="text" id="uid" onkeyup="validate();"/></td>
        <td><div id="erruid"></div> </td>
    </tr>
    <tr>
        <td>password</td>
        <td><input type="password" id="password" onkeyup="validate();"/>  </td>
        <td><div id="errpassword"></div> </td>
    </tr>
    <tr>
        <td>confirm password</td>
        <td><input type="text" id="confirm" onkeyup="validate();"/> </td>
        <td><div id="errconfirm"></div> </td>
    </tr>
    <tr>
        <td><input type="button" id="create" value="create" onkeyup="validate();finalvalidate();"/> </td>
        <td><div id="errfinal"></div> </td>
    </tr>


</table>
</body>
</html>